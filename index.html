<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Unblocked Games</title>
<link rel="icon" type="image/png" href="/assets/icons/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="/assets/icons/favicon.svg" />
<link rel="shortcut icon" href="/assets/icons/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="Unblocked Games" />
<link rel="manifest" href="/assets/icons/site.webmanifest" />
<link rel="stylesheet" href="/assets/css/fa.min.css">
<script>if ('serviceWorker' in navigator) {navigator.serviceWorker.register('/service-worker.js')
    .then(registration => {
      console.log('SW registered: ', registration);
      
      // Check cache status
      if (registration.active) {
        registration.active.postMessage({ type: 'GET_CACHE_STATUS' });
      }
      
      navigator.serviceWorker.addEventListener('message', event => {
        if (event.data.type === 'CACHE_STATUS') {
          console.log(`Cached ${event.data.count} URLs`);
        }
        if (event.data.type === 'SW_READY') {
          console.log('Service Worker is ready for offline use');
        }
      });
    })
    .catch(registrationError => {
      console.log('SW registration failed: ', registrationError);
    });
}
</script>
<style>
:root {
  --bg1:#070b18;
  --bg2:#0f1a38;
  --accent:#5eead4;
  --muted:#9fb8ff;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{min-height:100vh;}
body{
  font-family:Inter,system-ui,sans-serif;
  /* solid fallback for browsers that don't render the gradient immediately */
  background-color:var(--bg1);
  /* put the actual gradient on a fixed ::before layer so mobile Safari paints it reliably */
  background: none;
  color:#e6eef8;
  display:flex;align-items:center;justify-content:center;
  overflow:hidden;
  position:relative;
}
/* fixed gradient layer behind everything (works better on mobile Safari than background-attachment:fixed) */
body::before{
  content:'';
  position:fixed;inset:0;z-index:-3;
  background:linear-gradient(160deg,var(--bg1),var(--bg2));
  -webkit-transform:translateZ(0); /* promote to its own layer */
  transform:translateZ(0);
  pointer-events:none;
}
canvas#particles{position:absolute;inset:0;z-index:-2;}
.bgorb{
  position:absolute;inset:0;
  background:radial-gradient(circle at 25% 20%,rgba(94,234,212,0.15),transparent 70%),
             radial-gradient(circle at 80% 80%,rgba(99,102,241,0.12),transparent 70%);
  z-index:-1;
  animation:orb 14s ease-in-out infinite alternate;
}
@keyframes orb{
  0%{background-position:25% 20%,80% 80%}
  100%{background-position:28% 22%,82% 78%}
}
.card{
  background:rgba(10,20,40,0.9);
  border:1px solid rgba(94,234,212,0.25);
  border-radius:20px;
  padding:32px;
  width:min(900px,96vw);
  box-shadow:0 12px 50px rgba(0,0,0,0.6);
  animation:fadeUp .6s ease-out;
  z-index:1;position:relative;
  /* Safari needs the -webkit- prefix for backdrop-filter */
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter:blur(8px);
  text-align:center;
}
@keyframes fadeUp{from{opacity:0;transform:translateY(25px)}to{opacity:1;transform:none}}
h1{
  font-size:42px;
  background:linear-gradient(90deg,var(--accent),#6578ff);
  background-clip:text;
  -webkit-background-clip:text;
  color:transparent;
  -webkit-text-fill-color:transparent;
  text-shadow:0 0 6px rgba(94,234,212,0.5);
  text-align:center;
}
p{color:var(--muted);font-size:15px;margin-top:6px;text-align:center}

input#search{
  width:100%;
  padding:12px 16px;
  margin:20px 0 28px;
  border-radius:16px;
  border:none;
  background:rgba(255,255,255,0.1);
  color:#e6eef8;
  font-size:16px;
  outline:none;                  /* keep */
  transition: background-color .2s ease;  /* change from 'background' to 'background-color' */
}
input#search:focus{background-color:rgba(255,255,255,0.18);}
.games{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:18px;
}
a.game{will-change:transform,opacity}
/* entrance animation for game tiles (GPU friendly: transform + opacity) */
.game-animate{opacity:0;transform:translateY(10px) scale(0.995);transition:transform .45s cubic-bezier(.16,.8,.24,1),opacity .35s ease}
.game-animate.show{opacity:1;transform:none}

a.game{
  display:flex;align-items:center;gap:12px;
  padding:14px 16px;
  border-radius:18px;
  background:rgba(20,30,60,0.9);
  border:1px solid rgba(94,234,212,0.25);
  text-decoration:none;color:#e6f0ff;
  box-shadow:0 4px 15px rgba(0,0,0,0.35);
  transition:transform .3s ease, box-shadow .3s ease, border .3s ease;
  perspective:1000px;
}
a.game:hover{
  transform:translateY(-6px) rotateX(2deg) rotateY(2deg);
  box-shadow:0 12px 25px rgba(94,234,212,0.45);
  border-color:rgba(94,234,212,0.4);
}
.preview{
  width:60px;height:60px;border-radius:16px;overflow:hidden;flex-shrink:0;
  box-shadow:0 0 18px rgba(94,234,212,0.3);transition:transform .3s ease,box-shadow .3s ease;
}
a.game:hover .preview{transform:scale(1.08) rotate(-1deg);box-shadow:0 0 22px rgba(94,234,212,0.5);}
.preview img{width:100%;height:100%;object-fit:cover}
.info{flex:1}
.label{font-weight:700;font-size:15px;text-shadow:0 0 3px rgba(0,0,0,0.4);}
.dot{
  width:42px;height:42px;border-radius:12px;
  background:linear-gradient(135deg,var(--accent),#5c6cff);
  display:flex;align-items:center;justify-content:center;color:#0a1129;font-size:18px;
  transition:transform .25s ease, box-shadow .25s ease;
}
a.game:hover .dot{
  transform:scale(1.15);
  box-shadow:0 0 20px rgba(94,234,212,0.45);
}
footer{margin-top:24px;text-align:center;color:var(--muted);font-size:13px}
</style>
</head>
<body>
<canvas id="particles"></canvas>
<div class="bgorb"></div>
<div class="card">
  <h1>Unblocked Games</h1>
  <p>Play in your browser â€” works offline too. Some games may not work offline.</p>
  <input type="text" id="search" placeholder="Search games...">
  <div class="games" id="gameList">
    <a class="game" href="/games/2048/">
      <div class="preview"><img src="assets/img/2048.png" alt=""></div>
      <div class="info"><div class="label">2048</div></div>
      <div class="dot"><i class="fa-solid fa-play"></i></div>
    </a>
    <a class="game" href="/games/suika/">
      <div class="preview"><img src="assets/img/suika.png" alt=""></div>
      <div class="info"><div class="label">Suika / Watermelon Game</div></div>
      <div class="dot"><i class="fa-solid fa-play"></i></div>
    </a>
    <a class="game" href="/games/stickman-duel/">
      <div class="preview"><img src="assets/img/stickduel.png" alt=""></div>
      <div class="info"><div class="label">Stickman Duel</div></div>
      <div class="dot"><i class="fa-solid fa-play"></i></div>
    </a>
     <a class="game" href="/games/block-blast/">
      <div class="preview"><img src="assets/img/bblast.png" alt=""></div>
      <div class="info"><div class="label">Block Blast</div></div>
      <div class="dot"><i class="fa-solid fa-play"></i></div>
    </a>
  </div>
  <footer>Made by superfood</footer>
</div>

<script>
// particles
const c=document.getElementById('particles');
const ctx=c.getContext('2d');
let w,h,particles=[];
function resize(){w=c.width=innerWidth;h=c.height=innerHeight;}
window.addEventListener('resize',resize);resize();
function rand(min,max){return Math.random()*(max-min)+min;}
function spawn(){
  particles=[];
  for(let i=0;i<67;i++)
    particles.push({x:rand(0,w),y:rand(0,h),r:rand(1,3),vx:rand(-0.3,0.3),vy:rand(-0.3,0.3),glow:rand(0.4,0.9)});
}
spawn();
function draw(){
  ctx.clearRect(0,0,w,h);
  for(let p of particles){
    p.x+=p.vx;p.y+=p.vy;
    if(p.x<0||p.x>w)p.vx*=-1;
    if(p.y<0||p.y>h)p.vy*=-1;
    const g=ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*4);
    g.addColorStop(0,`rgba(94,234,212,${Math.max(p.glow,0.3)})`);
    g.addColorStop(1,'transparent');
    ctx.fillStyle=g;ctx.beginPath();ctx.arc(p.x,p.y,p.r*4,0,Math.PI*2);ctx.fill();
  }
  requestAnimationFrame(draw);
}
draw();

// search & auto sort
const gameList=document.getElementById('gameList');
let games=[...gameList.querySelectorAll('a.game')];

// robust, case-insensitive, numeric-aware alphabetical sort
games.sort((a,b)=>{
  const aLabel = a.querySelector('.label').textContent.trim();
  const bLabel = b.querySelector('.label').textContent.trim();
  return aLabel.localeCompare(bLabel, undefined, {numeric:true, sensitivity:'base'});
});
games.forEach((g, i)=>{
  g.classList.add('game-animate');
  // staggered entrance but small delay to keep it snappy
  g.style.transitionDelay = `${Math.min(i * 40, 300)}ms`;
  gameList.appendChild(g);
  // trigger showing in next frame to avoid layout thrash
  requestAnimationFrame(()=> g.classList.add('show'));
});

document.getElementById('search').addEventListener('input', e => {
  const q = e.target.value.trim().toLowerCase();
  games.forEach(g => {
    const label = g.querySelector('.label').textContent.toLowerCase();
    g.style.display = label.includes(q) ? 'flex' : 'none';
  });
});
</script>
</body>
</html>
